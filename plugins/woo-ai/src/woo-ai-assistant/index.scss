$woocommerce-purple: #9b5c8f;
$toned-down-purple: mix(white, $woocommerce-purple, 20%); // 20% white
$toned-down-grey: mix(white, #333, 20%); // A lighter grey

.woo-ai-assistant-chat-modal {
	max-height: 100%;
	
	.components-modal__content {
		overflow: hidden;
	}
	.woo-chat-history {
		display: flex;
		flex-direction: column;
		height: 400px;
		width: 700px;
		overflow-y: auto;
		border: 1px solid #ccc;
		margin-bottom: 10px;
		padding: 10px;
		background-color: white;

		.woo-ai-assistant-actions-button {
			font-size: 18px;
			color: $toned-down-grey;

			&:hover {
				color: #333;
			}
		}

		.woo-ai-assistant-actions {
			display: flex;
			justify-content: flex-start;

			.feedback-buttons {
				// target button elements that are disabled
				button:disabled{
					opacity: .6;
				}

				button:disabled span {
					&:hover {
						color: $toned-down-grey;
					}
				}
	
				.specific-feedback {
					margin-bottom: 30px;
					background-color: #f0eeee;
					padding: 5px;
					border-radius: 5px;
					border: 1px solid #e3e3e3;

					.specific-feedback-buttons {
						display:flex;
						flex-direction: column;
						align-items: center;
					}
				}
	
				.components-button.is-active + .specific-feedback {
					display: flex;
				}

			}
			.woo-ai-assistant-feedback-submitted {
				background-color: $toned-down-grey;
				color: white;
				padding: 10px;
				border-radius: 5px;
				margin-bottom: 10px;
			}
		}



		.message {
			max-width: 80%; // Limit the width of each message
			padding: 8px 12px;
			border-radius: 15px;
			margin-bottom: 0px;
			box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1); // Subtle shadow for depth
			position: relative;
			margin-top: 20px;

			&.user {
				background-color: $toned-down-purple;
				color: white;
				align-self: flex-end; // Align to the right
				border-top-right-radius: 2px; // Adjust for speech bubble effect
			}

			&.assistant {
				background-color: #f4f4f4; // Light grey or another light color
				color: black;
				align-self: flex-start; // Align to the left
				border-top-left-radius: 2px; // Adjust for speech bubble effect
			}

			p {
				margin: 0;
			}
		}
	}
	form.chat-form {
		display: flex;
		flex-direction: row;
		align-items: center;
		margin-top: 10px;

		> .components-base-control {
			flex-grow: 1;
			margin-right: 10px;
			margin-bottom: 0;
		}

		.woo-ai-assistant-mic-button {
			margin-right: 10px;
		}

		textarea {
			resize: vertical;
		}

		.woo-ai-assistant-submit-button {
			padding: 15px;
			border: 1px solid #ccc;
			border-radius: 5px;
			background-color: $woocommerce-purple;
			color: white;
			font-size:20px;
			cursor: pointer;

			&:hover {
				background-color: $toned-down-purple;
			}
			&.is-busy {
				background-image: linear-gradient(
				-45deg,
				$toned-down-purple 33%,
				$woocommerce-purple 33%,
				$woocommerce-purple 70%,
				$toned-down-purple 70%
			);
			}
		}
	}
}
